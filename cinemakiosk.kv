#:kivy 1.0

<Label>:
    font_name: 'Loma Book'

# Always clear the background of every child widget
# FIXME: this should be done in FBO of PageLayout... well.
<AppScreen>:
	canvas:
		Color:
			rgb: 0, 0, 0
		Rectangle:
			pos: self.pos
			size: self.size

<InfoScreen>:
    progress: video_widget.position / max(0,.0001, video_widget.duration)

    Image:
        source: 'images/background.png'

    Video:
        id: video_widget
        source: root.movie.trailer
        play: True
        pos: (0, 250)

    Label:
        text: root.movie.title
        size_hint: (1, None)
        pos: (0,480)
        font_size: 60
        bold: True

    Label:
        text: "Theater: 8   7:00pm - 9:00pm"
        size_hint: (1, None)
        pos: (0,325)
        font_size: 30

    Label:
        text: "Theater: 5   8:30pm - 10:30pm"
        size_hint: (1, None)
        pos: (0,200)
        font_name: 'Loma Book'
        font_size: 30

    Label:
        text: "Theater: 3   9:30pm - 12:30pm"
        size_hint: (1, None)
        pos: (0,75)
        font_name: 'Loma Book'
        font_size: 30


<WelcomeScreen>
    Image:
        source: 'images/welcome.png'

	BoxLayout:
		#pos: 86, 158
		#size: 916, 500
		size_hint: (1, .4)
		spacing: 25
		padding: 70
        
        #canvas:
        #    Color:
        #        rgba:1,0,0,0.3
        #    Rectangle:
        #        size:self.size
        #        pos: self.pos

		MovieThumbnail:
			play: root.play
			app: root.app
			movie: root.movies[0]

		MovieThumbnail:
			play: root.play
			app: root.app
			movie: root.movies[1]

		MovieThumbnail:
			play: root.play
			app: root.app
			movie: root.movies[2]


#
# Little thumbnail that will appear inside the welcome screen
#
<MovieThumbnail>:

	on_touch_down: self.app.select_movie(self) if root.collide_point(*largs[2].pos) else None


    BoxLayout:
        orientation: 'vertical'
        size: root.size
        pos: root.pos
        padding: 5
        spacing: 10

        canvas:
            Color:
                rgba:0,0,0,0.3
            Rectangle:
                size:self.size
                pos: self.pos

        Video:
            id: trailer1
            source: root.movie.trailer if root.movie else ''
            play: root.play
            size_hint: (1,.5)

            canvas.before:
                Color:
                    rgb: 0,0,0
                Rectangle:
                    pos: self.pos
                    size: self.size

       # Title label, centered in a box upside the video, with a margin of 10 pixels
        Label:
            canvas:
                Color:
                    rgba:1,1,1,0.3
                Rectangle:
                    size:(root.width, self.height)
                    pos: (root.x, self.y)

            size_hint: (1,.3)
            text: root.movie.title if root.movie else ''
            text_size: self.size
            halign: 'left'
            valign: 'top'
            font_size: 13
            bold: True

        # Summary label, centered in a box downside the video, with a margin of 10 pixels
        Label:
            text: root.movie.summary[:300] if root.movie else ''
            text_size: self.size
            halign: 'left'
            valign: 'top'
            font_size: 9
